{"ast":null,"code":"import _defineProperty from\"/home/gedi/Desktop/IOT-BBMS_Soft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/gedi/Desktop/IOT-BBMS_Soft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gedi/Desktop/IOT-BBMS_Soft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/gedi/Desktop/IOT-BBMS_Soft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gedi/Desktop/IOT-BBMS_Soft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{compose}from'recompose';// reactstrap components\nimport{Button,Card,Form,Input,Container,Row,Col}from'reactstrap';import{AuthUserContext,withAuthorization,withEmailVerification}from'../Session';import{withFirebase}from'..//Firebase';import{PasswordForgetForm}from'../../views/examples/PasswordForget';import PasswordChangeForm from'../../views/examples/PasswordChange';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SIGN_IN_METHODS=[{id:'password',provider:null},{id:'google.com',provider:'googleProvider'},{id:'facebook.com',provider:'facebookProvider'},{id:'twitter.com',provider:'twitterProvider'}];function AccountPage(){document.documentElement.classList.remove('nav-open');React.useEffect(function(){document.body.classList.add('register-page');return function cleanup(){document.body.classList.remove('register-page');};});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",style:{backgroundImage:'url('+require('assets/img/laEthio.jpg').default+')'},children:/*#__PURE__*/_jsx(AuthUserContext.Consumer,{children:function children(authUser){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"title mx-auto\",children:[\"Account: \",authUser.email]})}),/*#__PURE__*/_jsx(PasswordForgetForm,{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"\",children:/*#__PURE__*/_jsx(Card,{className:\"card-register \",children:/*#__PURE__*/_jsx(PasswordChangeForm,{})})}),/*#__PURE__*/_jsx(Col,{className:\"\",children:/*#__PURE__*/_jsx(Card,{className:\"card-register \",children:/*#__PURE__*/_jsx(LoginManagement,{authUser:authUser})})})]})]}),' ']});}})})});}var LoginManagementBase=/*#__PURE__*/function(_Component){_inherits(LoginManagementBase,_Component);var _super=_createSuper(LoginManagementBase);function LoginManagementBase(props){var _this;_classCallCheck(this,LoginManagementBase);_this=_super.call(this,props);_this.fetchSignInMethods=function(){_this.props.firebase.auth.fetchSignInMethodsForEmail(_this.props.authUser.email).then(function(activeSignInMethods){return _this.setState({activeSignInMethods:activeSignInMethods,error:null});}).catch(function(error){return _this.setState({error:error});});};_this.onSocialLoginLink=function(provider){_this.props.firebase.auth.currentUser.linkWithPopup(_this.props.firebase[provider]).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.onDefaultLoginLink=function(password){var credential=_this.props.firebase.emailAuthProvider.credential(_this.props.authUser.email,password);_this.props.firebase.auth.currentUser.linkAndRetrieveDataWithCredential(credential).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.onUnlink=function(providerId){_this.props.firebase.auth.currentUser.unlink(providerId).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.state={activeSignInMethods:[],error:null};return _this;}_createClass(LoginManagementBase,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchSignInMethods();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,activeSignInMethods=_this$state.activeSignInMethods,error=_this$state.error;return/*#__PURE__*/_jsxs(_Fragment,{children:[' ',/*#__PURE__*/_jsx(\"h3\",{className:\"title mx-auto\",children:\"SignInMethods\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none'},children:SIGN_IN_METHODS.map(function(signInMethod){var onlyOneLeft=activeSignInMethods.length===1;var isEnabled=activeSignInMethods.includes(signInMethod.id);return/*#__PURE__*/_jsx(\"li\",{children:signInMethod.id==='password'?/*#__PURE__*/_jsx(DefaultLoginToggle,{onlyOneLeft:onlyOneLeft,isEnabled:isEnabled,signInMethod:signInMethod,onLink:_this2.onDefaultLoginLink,onUnlink:_this2.onUnlink}):/*#__PURE__*/_jsx(SocialLoginToggle,{onlyOneLeft:onlyOneLeft,isEnabled:isEnabled,signInMethod:signInMethod,onLink:_this2.onSocialLoginLink,onUnlink:_this2.onUnlink})},signInMethod.id);})}),error&&error.message]})]});}}]);return LoginManagementBase;}(Component);var SocialLoginToggle=function SocialLoginToggle(_ref){var onlyOneLeft=_ref.onlyOneLeft,isEnabled=_ref.isEnabled,signInMethod=_ref.signInMethod,onLink=_ref.onLink,onUnlink=_ref.onUnlink;return isEnabled?/*#__PURE__*/_jsxs(Button,{type:\"button\",onClick:function onClick(){return onUnlink(signInMethod.id);},disabled:onlyOneLeft,children:[\"Deactivate \",signInMethod.id]}):/*#__PURE__*/_jsxs(Button,{type:\"button\",onClick:function onClick(){return onLink(signInMethod.provider);},children:[\"Link \",signInMethod.id]});};var DefaultLoginToggle=/*#__PURE__*/function(_Component2){_inherits(DefaultLoginToggle,_Component2);var _super2=_createSuper(DefaultLoginToggle);function DefaultLoginToggle(props){var _this3;_classCallCheck(this,DefaultLoginToggle);_this3=_super2.call(this,props);_this3.onSubmit=function(event){event.preventDefault();_this3.props.onLink(_this3.state.passwordOne);_this3.setState({passwordOne:'',passwordTwo:''});};_this3.onChange=function(event){_this3.setState(_defineProperty({},event.target.name,event.target.value));};_this3.state={passwordOne:'',passwordTwo:''};return _this3;}_createClass(DefaultLoginToggle,[{key:\"render\",value:function render(){var _this$props=this.props,onlyOneLeft=_this$props.onlyOneLeft,isEnabled=_this$props.isEnabled,signInMethod=_this$props.signInMethod,onUnlink=_this$props.onUnlink;var _this$state2=this.state,passwordOne=_this$state2.passwordOne,passwordTwo=_this$state2.passwordTwo;var isInvalid=passwordOne!==passwordTwo||passwordOne==='';return isEnabled?/*#__PURE__*/_jsxs(Button,{type:\"button\",onClick:function onClick(){return onUnlink(signInMethod.id);},disabled:onlyOneLeft,children:[\"Deactivate \",signInMethod.id]}):/*#__PURE__*/_jsxs(Form,{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(Input,{name:\"passwordOne\",value:passwordOne,onChange:this.onChange,type:\"password\",placeholder:\"New Password\"}),/*#__PURE__*/_jsx(Input,{name:\"passwordTwo\",value:passwordTwo,onChange:this.onChange,type:\"password\",placeholder:\"Confirm New Password\"}),/*#__PURE__*/_jsxs(Button,{disabled:isInvalid,type:\"submit\",children:[\"Link \",signInMethod.id]})]});}}]);return DefaultLoginToggle;}(Component);var LoginManagement=withFirebase(LoginManagementBase);var condition=function condition(authUser){return!!authUser;};export default compose(withEmailVerification,withAuthorization(condition))(AccountPage);","map":{"version":3,"sources":["/home/gedi/Desktop/IOT-BBMS_Soft/src/components/Account/index.js"],"names":["React","Component","compose","Button","Card","Form","Input","Container","Row","Col","AuthUserContext","withAuthorization","withEmailVerification","withFirebase","PasswordForgetForm","PasswordChangeForm","SIGN_IN_METHODS","id","provider","AccountPage","document","documentElement","classList","remove","useEffect","body","add","cleanup","backgroundImage","require","default","authUser","email","LoginManagementBase","props","fetchSignInMethods","firebase","auth","fetchSignInMethodsForEmail","then","activeSignInMethods","setState","error","catch","onSocialLoginLink","currentUser","linkWithPopup","onDefaultLoginLink","password","credential","emailAuthProvider","linkAndRetrieveDataWithCredential","onUnlink","providerId","unlink","state","listStyleType","map","signInMethod","onlyOneLeft","length","isEnabled","includes","message","SocialLoginToggle","onLink","DefaultLoginToggle","onSubmit","event","preventDefault","passwordOne","passwordTwo","onChange","target","name","value","isInvalid","LoginManagement","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { compose } from 'recompose';\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col,\n} from 'reactstrap';\n\nimport {\n  AuthUserContext,\n  withAuthorization,\n  withEmailVerification,\n} from '../Session';\nimport { withFirebase } from '..//Firebase';\nimport { PasswordForgetForm } from '../../views/examples/PasswordForget';\nimport PasswordChangeForm from '../../views/examples/PasswordChange';\n\nconst SIGN_IN_METHODS = [\n  {\n    id: 'password',\n    provider: null,\n  },\n  {\n    id: 'google.com',\n    provider: 'googleProvider',\n  },\n  {\n    id: 'facebook.com',\n    provider: 'facebookProvider',\n  },\n  {\n    id: 'twitter.com',\n    provider: 'twitterProvider',\n  },\n];\n\nfunction AccountPage() {\n  document.documentElement.classList.remove('nav-open');\n  React.useEffect(() => {\n    document.body.classList.add('register-page');\n    return function cleanup() {\n      document.body.classList.remove('register-page');\n    };\n  });\n  return (\n    <>\n      <div\n        className=\"page-header\"\n        style={{\n          backgroundImage:\n            'url(' + require('assets/img/laEthio.jpg').default + ')',\n        }}\n      >\n        <AuthUserContext.Consumer>\n          {(authUser) => (\n            <>\n              <Container>\n                <Row>\n                  <h1 className=\"title mx-auto\">\n                    Account: {authUser.email}\n                  </h1>\n                </Row>\n\n                <PasswordForgetForm />\n                <Row>\n                  <Col className=\"\">\n                    <Card className=\"card-register \">\n                      <PasswordChangeForm />\n                    </Card>\n                  </Col>\n                  <Col className=\"\">\n                    <Card className=\"card-register \">\n                      <LoginManagement authUser={authUser} />\n                    </Card>\n                  </Col>\n                </Row>\n              </Container>{' '}\n            </>\n          )}\n        </AuthUserContext.Consumer>\n      </div>\n    </>\n  );\n}\nclass LoginManagementBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeSignInMethods: [],\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSignInMethods();\n  }\n\n  fetchSignInMethods = () => {\n    this.props.firebase.auth\n      .fetchSignInMethodsForEmail(this.props.authUser.email)\n      .then((activeSignInMethods) =>\n        this.setState({ activeSignInMethods, error: null }),\n      )\n      .catch((error) => this.setState({ error }));\n  };\n\n  onSocialLoginLink = (provider) => {\n    this.props.firebase.auth.currentUser\n      .linkWithPopup(this.props.firebase[provider])\n      .then(this.fetchSignInMethods)\n      .catch((error) => this.setState({ error }));\n  };\n\n  onDefaultLoginLink = (password) => {\n    const credential =\n      this.props.firebase.emailAuthProvider.credential(\n        this.props.authUser.email,\n        password,\n      );\n\n    this.props.firebase.auth.currentUser\n      .linkAndRetrieveDataWithCredential(credential)\n      .then(this.fetchSignInMethods)\n      .catch((error) => this.setState({ error }));\n  };\n\n  onUnlink = (providerId) => {\n    this.props.firebase.auth.currentUser\n      .unlink(providerId)\n      .then(this.fetchSignInMethods)\n      .catch((error) => this.setState({ error }));\n  };\n\n  render() {\n    const { activeSignInMethods, error } = this.state;\n\n    return (\n      <>\n        {' '}\n        <h3 className=\"title mx-auto\">SignInMethods</h3>\n        <div>\n          <ul style={{ listStyleType: 'none' }}>\n            {SIGN_IN_METHODS.map((signInMethod) => {\n              const onlyOneLeft = activeSignInMethods.length === 1;\n              const isEnabled = activeSignInMethods.includes(\n                signInMethod.id,\n              );\n\n              return (\n                <li key={signInMethod.id}>\n                  {signInMethod.id === 'password' ? (\n                    <DefaultLoginToggle\n                      onlyOneLeft={onlyOneLeft}\n                      isEnabled={isEnabled}\n                      signInMethod={signInMethod}\n                      onLink={this.onDefaultLoginLink}\n                      onUnlink={this.onUnlink}\n                    />\n                  ) : (\n                    <SocialLoginToggle\n                      onlyOneLeft={onlyOneLeft}\n                      isEnabled={isEnabled}\n                      signInMethod={signInMethod}\n                      onLink={this.onSocialLoginLink}\n                      onUnlink={this.onUnlink}\n                    />\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n          {error && error.message}\n        </div>\n      </>\n    );\n  }\n}\n\nconst SocialLoginToggle = ({\n  onlyOneLeft,\n  isEnabled,\n  signInMethod,\n  onLink,\n  onUnlink,\n}) =>\n  isEnabled ? (\n    <Button\n      type=\"button\"\n      onClick={() => onUnlink(signInMethod.id)}\n      disabled={onlyOneLeft}\n    >\n      Deactivate {signInMethod.id}\n    </Button>\n  ) : (\n    <Button\n      type=\"button\"\n      onClick={() => onLink(signInMethod.provider)}\n    >\n      Link {signInMethod.id}\n    </Button>\n  );\n\nclass DefaultLoginToggle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { passwordOne: '', passwordTwo: '' };\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n\n    this.props.onLink(this.state.passwordOne);\n    this.setState({ passwordOne: '', passwordTwo: '' });\n  };\n\n  onChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { onlyOneLeft, isEnabled, signInMethod, onUnlink } =\n      this.props;\n\n    const { passwordOne, passwordTwo } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n\n    return isEnabled ? (\n      <Button\n        type=\"button\"\n        onClick={() => onUnlink(signInMethod.id)}\n        disabled={onlyOneLeft}\n      >\n        Deactivate {signInMethod.id}\n      </Button>\n    ) : (\n      <Form onSubmit={this.onSubmit}>\n        <Input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <Input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n\n        <Button disabled={isInvalid} type=\"submit\">\n          Link {signInMethod.id}\n        </Button>\n      </Form>\n    );\n  }\n}\n\nconst LoginManagement = withFirebase(LoginManagementBase);\n\nconst condition = (authUser) => !!authUser;\n\nexport default compose(\n  withEmailVerification,\n  withAuthorization(condition),\n)(AccountPage);\n"]},"metadata":{},"sourceType":"module"}